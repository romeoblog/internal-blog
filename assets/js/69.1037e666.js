(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{771:function(s,a,t){"use strict";t.r(a);var e=t(97),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux系统安装-mysql8-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux系统安装-mysql8-x"}},[s._v("#")]),s._v(" Linux系统安装 Mysql8.x")]),s._v(" "),t("h2",{attrs:{id:"centos-7-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-x"}},[s._v("#")]),s._v(" CentOS 7.x")]),s._v(" "),t("h3",{attrs:{id:"官网下载压缩包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官网下载压缩包"}},[s._v("#")]),s._v(" 官网下载压缩包")]),s._v(" "),t("p",[s._v("官方地址："),t("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dev.mysql.com/downloads/mysql/"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.willlu.cn/image/bigdata/mysql-8.0.19.png",alt:"mysql-8.0.19"}})]),s._v(" "),t("p",[s._v("点击下载时，需要进行登陆，没账号需要先注册后登陆，登陆成功后跳转以下页面：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.willlu.cn/image/bigdata/mysql-8.0.19-2.png",alt:"mysql-8.0.19"}})]),s._v(" "),t("p",[s._v("下载在自己桌面上传至LINUX或者得到链接直接在服务器wegt均可。（我使用的是网易开源镜像站下载）")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#官网下载压缩包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.19-1.el8.x86_64.rpm-bundle.tar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#网易开源镜像站")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.163.com/mysql/Downloads/MySQL-8.0/mysql-8.0.17-el7-x86_64.tar.gz\n")])])]),t("h3",{attrs:{id:"解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[s._v("#")]),s._v(" 解压")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf mysql-8.0.17-el7-x86_64.tar.gz -C /usr/local\n")])])]),t("h3",{attrs:{id:"修改文件夹名称"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改文件夹名称"}},[s._v("#")]),s._v(" 修改文件夹名称")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" mysql-8.0.17-el7-x86_64.tar.gz mysql\n")])])]),t("h3",{attrs:{id:"添加默认配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加默认配置文件"}},[s._v("#")]),s._v(" 添加默认配置文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vi/etc/my.cnf\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("socket")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/tmp/mysql.sock\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("socket")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/tmp/mysql.sock\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("basedir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("datadir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#免密登陆，用于后面修改root密码，修改密码成功后注视掉当行")]),s._v("\nskip-grant-tables\n\n")])])]),t("h3",{attrs:{id:"创建mysql组和用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建mysql组和用户"}},[s._v("#")]),s._v(" 创建mysql组和用户")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" mysql\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -g mysql mysql\n")])])]),t("h3",{attrs:{id:"创建mysql数据目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建mysql数据目录"}},[s._v("#")]),s._v(" 创建mysql数据目录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /usr/local/mysql/data\n")])])]),t("h3",{attrs:{id:"初始化mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化mysql"}},[s._v("#")]),s._v(" 初始化mysql")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/local/mysql/bin/mysqld  --initialize --user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql --basedir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/ --datadir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data/\n")])])]),t("h3",{attrs:{id:"初始化报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化报错"}},[s._v("#")]),s._v(" 初始化报错")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("bin/mysqld: error "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" loading shared libraries: libaio.so.1: cannot "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" shared object file: No such "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n")])])]),t("h3",{attrs:{id:"解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[s._v("#")]),s._v(" 解决方法")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y libaio\n")])])]),t("h3",{attrs:{id:"修改-tmp-mysql的目录权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-tmp-mysql的目录权限"}},[s._v("#")]),s._v(" 修改/tmp/mysql的目录权限")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R mysql:mysql /tmp/mysql\n")])])]),t("h3",{attrs:{id:"初始化成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化成功"}},[s._v("#")]),s._v(" 初始化成功")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-04-18T14:10:10.273716Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("System"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-013169"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" /usr/local/mysql/bin/mysqld "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mysqld "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(".17"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" initializing of server "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" progress as process "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42921")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-04-18T14:10:13.117486Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Note"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-010454"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" A temporary password is generated "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root@localhost: cQWu0raLVw"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("t\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-04-18T14:10:13.989281Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("System"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-013170"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" /usr/local/mysql/bin/mysqld "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mysqld "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(".17"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" initializing of server has completed\n")])])]),t("h3",{attrs:{id:"mysql开机自启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql开机自启"}},[s._v("#")]),s._v(" mysql开机自启")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#赋予可执行权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /etc/init.d/mysql\n")])])]),t("h3",{attrs:{id:"启动mysql服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql服务器"}},[s._v("#")]),s._v(" 启动mysql服务器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysql start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看启动状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysql status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"mysql-基本操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-基本操作"}},[s._v("#")]),s._v(" mysql 基本操作")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接mysql")]),s._v("\n/usr/local/mysql/bin/mysql -u root\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改mysql的默认初始化密码")]),s._v("\nalter user "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" identified by "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'设置新的密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启远程登录")]),s._v("\nupdate mysql.user "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" where "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nflush privileges"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看mysql所用用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" user,host from mysql.user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("h3",{attrs:{id:"防火墙问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防火墙问题"}},[s._v("#")]),s._v(" 防火墙问题")]),s._v(" "),t("p",[s._v("注意：修改过后便可以用外部工具连接了，这里有一点注意的是防火墙问题，按照对应的系统去开放3306端口，如若不开放回会出现10060的错误码（主要是防火墙问题）")]),s._v(" "),t("h4",{attrs:{id:"开放3306端口-针对开启防火墙的情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开放3306端口-针对开启防火墙的情况"}},[s._v("#")]),s._v(" 开放3306端口(针对开启防火墙的情况)")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("permanent 表示永久开启\nfirewall-cmd --add-port=3306/tcp  --permanent\n")])])]),t("p",[s._v("针对个人开发直接关闭防火墙即可")]),s._v(" "),t("h4",{attrs:{id:"关闭防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙"}},[s._v("#")]),s._v(" 关闭防火墙")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#查看状态\nsystemctl status firewalld\nservice iptables status\n\n#下次重启恢复防火墙\nsystemctl stop firewalld\nservice iptables stop\n\n#永久关闭\nsystemctl disable firewalld\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);